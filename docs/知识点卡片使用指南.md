# 知识点卡片使用指南

## 📋 概述

知识点卡片是lusion-clone项目中的核心学习组件，旨在提供沉浸式、多媒体的学习体验。每个知识点卡片都包含完整的学习内容、3D模型演示、多媒体资源和学习进度跟踪。

## 🎯 设计特点

### 1. 居中显示设计
- **尺寸**: 占屏幕宽度的80%，最大宽度4xl (896px)
- **高度**: 占屏幕高度的80% (80vh)
- **位置**: 完全居中显示，带有背景遮罩
- **响应式**: 在移动设备上自动调整尺寸

### 2. 双栏布局
- **左侧**: 文字内容区域，包含知识点详情、标签、前置知识等
- **右侧**: 3D模型展示和学习资源列表
- **比例**: 左侧占2/3，右侧占1/3

### 3. 多媒体集成
- **3D模型**: 支持GLB/GLTF格式，带有旋转、缩放控制
- **视频资源**: 显示时长，支持缩略图预览
- **互动演示**: 支持外部链接跳转
- **文章资源**: 提供描述和快速访问

## 🚀 主要功能

### 1. 智能内容展示
```typescript
// 内容格式化功能
const formatContent = (content: string) => {
  // 自动识别markdown格式
  // 支持标题、列表、段落等
  // 可展开/收起长文本
}
```

### 2. 3D模型查看器
- **加载动画**: 优雅的加载提示
- **交互控制**: 旋转、缩放、重置视角
- **信息显示**: 模型文件名和格式信息
- **错误处理**: 加载失败时的友好提示

### 3. 学习进度跟踪
- **进度条**: 可视化学习进度
- **操作按钮**: 开始学习、收藏功能
- **状态管理**: 记录学习状态和时间

### 4. 资源管理
- **分类显示**: 按类型分组显示资源
- **快速访问**: 一键打开外部资源
- **时长显示**: 视频资源显示播放时长
- **描述预览**: 鼠标悬停显示详细描述

## 📊 数据结构

### 知识点数据格式
```typescript
interface KnowledgePoint {
  id: string                    // 唯一标识
  chapterId: string            // 所属章节
  title: string                // 标题
  content: string              // 详细内容（支持markdown）
  difficulty: 'basic' | 'intermediate' | 'advanced'
  tags: string[]               // 标签列表
  prerequisites: string[]      // 前置知识点
  resources: Resource[]        // 学习资源
  exercises: Exercise[]        // 练习题目
  estimatedTime: number        // 预计学习时间（分钟）
}
```

### 资源数据格式
```typescript
interface Resource {
  id: string
  type: 'video' | 'article' | 'interactive' | 'model3d' | 'simulation'
  title: string
  url: string
  description: string
  duration?: number            // 视频时长（秒）
  thumbnail?: string           // 缩略图
}
```

## 🎨 视觉设计

### 1. 色彩方案
- **主色调**: 深蓝到黑色渐变背景
- **强调色**: 蓝色(#3b82f6)用于主要操作
- **辅助色**: 紫色(#8b5cf6)用于3D模型区域
- **文字色**: 白色主文字，灰色辅助文字

### 2. 动画效果
- **入场动画**: 缩放+透明度变化
- **悬停效果**: 轻微缩放和阴影变化
- **加载动画**: 旋转加载指示器
- **进度动画**: 平滑的进度条填充

### 3. 交互反馈
- **按钮反馈**: 点击时的缩放效果
- **悬停状态**: 颜色和透明度变化
- **焦点状态**: 清晰的焦点指示
- **加载状态**: 友好的加载提示

## 🔧 技术实现

### 1. 核心技术栈
- **React 18**: 组件化开发
- **TypeScript**: 类型安全
- **Framer Motion**: 动画效果
- **Tailwind CSS**: 样式系统
- **Lucide React**: 图标库

### 2. 关键组件
```typescript
// 主组件
<KnowledgePointCard 
  knowledgePoint={point}
  isOpen={isOpen}
  onClose={onClose}
/>

// 3D模型查看器
<Model3DViewer 
  modelUrl={modelUrl}
  className="h-48"
/>

// 资源展示
<ResourceIcon type={resource.type} />
```

### 3. 状态管理
- **本地状态**: useState管理组件内部状态
- **动画状态**: Framer Motion的AnimatePresence
- **加载状态**: 异步资源加载管理

## 📱 响应式设计

### 1. 断点设置
- **桌面**: >= 1024px - 完整双栏布局
- **平板**: 768px - 1023px - 调整间距和字体
- **手机**: < 768px - 单栏布局，3D模型区域缩小

### 2. 适配策略
- **弹性布局**: 使用Flexbox自适应
- **相对单位**: 使用rem、vh、vw等相对单位
- **条件渲染**: 根据屏幕尺寸显示不同内容

## 🚀 使用示例

### 1. 基础使用
```tsx
import { KnowledgePointCard } from '@/components/ui/education/KnowledgePointCard'
import { sampleKnowledgePoints } from '@/data/knowledgePoints'

function MyComponent() {
  const [isOpen, setIsOpen] = useState(false)
  const [selectedPoint, setSelectedPoint] = useState(sampleKnowledgePoints[0])

  return (
    <KnowledgePointCard
      knowledgePoint={selectedPoint}
      isOpen={isOpen}
      onClose={() => setIsOpen(false)}
    />
  )
}
```

### 2. 集成到学科页面
```tsx
// 在学科页面中使用
const handleNodeClick = (nodeId: string) => {
  const point = getKnowledgePointById(nodeId)
  if (point) {
    setSelectedPoint(point)
    setCardOpen(true)
  }
}
```

## 🔮 未来扩展

### 1. 计划功能
- **真实3D模型**: 集成Three.js渲染引擎
- **AI助手**: 集成智能问答功能
- **学习路径**: 自动推荐相关知识点
- **社交功能**: 学习笔记分享和讨论

### 2. 性能优化
- **懒加载**: 3D模型和视频资源按需加载
- **缓存策略**: 本地缓存学习进度和资源
- **预加载**: 智能预加载相关内容

### 3. 可访问性
- **键盘导航**: 完整的键盘操作支持
- **屏幕阅读器**: ARIA标签和语义化HTML
- **高对比度**: 支持高对比度主题

## 📝 开发注意事项

1. **性能考虑**: 大型3D模型需要优化加载策略
2. **兼容性**: 确保在主流浏览器中正常工作
3. **可维护性**: 保持组件的单一职责和可复用性
4. **用户体验**: 提供清晰的加载状态和错误处理

## 🎯 总结

知识点卡片组件成功实现了：
- ✅ 居中显示，占屏幕1/2大小的设计要求
- ✅ 集成文字、图解和3D模型的多媒体展示
- ✅ 优雅的动画效果和交互体验
- ✅ 完整的学习资源管理和进度跟踪
- ✅ 响应式设计和良好的可扩展性

这个组件为lusion-clone项目的学习体验奠定了坚实的基础，可以作为其他学科知识点展示的标准模板。
